<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Chat</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div class="container">
      <div id="messages"></div>
    </div>
    <form class="Chat" id="chat"></form>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!--     
    <script
      src="socket.io.min.js"
      integrity="sha384-cdrFIqe3RasCMNE0jeFG9xJHog/tgOVC1E9Lzve8LQN1g5WUHo0Kvk1mawWjxX7a"
      crossorigin="anonymous"
    ></script>
    <script src="//cdn.jsdelivr.net/npm/yve-bot/web.js"></script>

    <script type="text/javascript" src="scripts.js"></script> -->

    <script>
      $.get("/messages", (data) => {
        var messages = document.getElementById("messages");
        messages.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
          messages.innerHTML += `<div class="row"><h4>Conversation session: ${data[i].sessionId}</h4><ul>`;
          if (data[i].url) messages.innerHTML += `<p><a>${data[i].url}</a></p>`;
          for (let j = 0; j < data[i].messages.length; j++) {
            messages.innerHTML += `<li>${data[i].messages[j]}</li>`;
          }
          messages.innerHTML += "</ul>Conversation ended</div><hr>";
        }
      });
    </script>
  </body>
</html>
